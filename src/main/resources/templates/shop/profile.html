<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">

<head>
    <th:block th:insert="~{/shop/fragments :: header-include}">
    </th:block>
    <link rel="stylesheet" th:href="@{/css/profile.css}">

</head>

<body>
    <div class="container-fluid">
        <!-- start header -->
        <div th:replace="~{/shop/fragments::header}"></div>
        <!-- end header -->

        <!-- start body -->
        <div class="body">
            <div class="container">
                <div class="row d-flex justify-content-center align-items-center py-5">
                    <!-- Title -->
                    <div class="body__title text-center">Hồ sơ</div>
                </div>
                <form th:action="@{/update-profile}" method="POST" th:object="${customer}"
                    enctype="multipart/form-data">
                    <div class="row m-0 d-flex justify-content-center align-items-center">
                        <!-- Info Details -->
                        <div class="user__info col-10">
                            <div class="row m-0 my-5 d-flex justify-content-between">
                                <!-- Edit Image -->
                                <div class="user__info-img col-3">
                                    <!-- Avatar -->
                                    <div class="info__img-review">
                                        <img alt="" th:if="*{image!=null}" style="width: -webkit-fill-available;"
                                            th:src="'data:image/jpeg;base64,' + *{image}">
                                    </div>

                                    <!-- Input for Avatar -->
                                    <div class="info__img-input mt-2">
                                        <input id="image" name="img_avt" type="file">
                                    </div>

                                    <!-- Info Submit Button -->
                                    <div class="info__img-button d-flex justify-content-center align-items-center my-4">
                                        <div class="wrapper">
                                            <button type="submit" class="info__submit--btn px-4 py-2">Upload</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Edit UserInfo -->
                                <div class="user__info-details col-8">
                                    <!-- <form th:action="@{/update-profile}" method="POST" th:object="${customer}"> -->
                                    <div class="d-flex flex-column">
                                        <div class="info__item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">Tên đăng nhập: <span
                                                    th:text="${customer.username}"
                                                    class="text-secondary small"></span></label>
                                            <input class="px-3 py-2" type="text" th:field="*{username}"
                                                placeholder="Enter your new username">
                                        </div>

                                        <div class="info__item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">Số điện thoại: <span
                                                    th:text="${customer.phone}"
                                                    class="text-secondary small"></span></label>
                                            <input class="px-3 py-2" type="tel" th:field="*{phone}"
                                                placeholder="Enter your new phone number">
                                        </div>

                                        <div class="info__item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">Email</label>
                                            <input class="px-3 py-2" type="email" th:field="*{email}"
                                                placeholder="Enter your new email" disabled>
                                        </div>

                                        <div class="info-_item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">Địa chỉ: <span
                                                    th:text="${customer.address}"
                                                    class="text-secondary small"></span></label>
                                            <input class="px-3 py-2" type="text" th:field="*{address}"
                                                placeholder="Enter your address">
                                        </div>
                                    </div>

                                    <div class="info__submit d-flex justify-content-center align-items-center my-4">
                                        <div class="wrapper">
                                            <button type="submit" class="info__submit--btn px-4 py-2">Lưu</button>
                                        </div>
                                    </div>
                                    <!-- </form> -->
                                </div>

                                <!-- Edit Password -->
                                <div class="user__info-password col-12">
                                    <div class="col-12 text-center">
                                        <h1 class="display-4 body__title">Đổi mật khẩu</h1>
                                    </div>
                                    <div class="d-flex flex-column">
                                        <div class="info__item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">Old Password</label>
                                            <input class="px-3 py-2" type="password" id="oldPasswordInput"
                                                placeholder="Enter your old password">
                                        </div>

                                        <div class="info__item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">New Password</label>
                                            <input class="px-3 py-2" type="password" id="newPasswordInput"
                                                placeholder="Enter your new password">
                                        </div>

                                        <div class="info__item col-12 pb-3 px-3 d-flex flex-column">
                                            <label class="info__item-title pb-2">Confirm Password</label>
                                            <input class="px-3 py-2" type="password" id="confirmPasswordInput"
                                                placeholder="Enter your confirm password">
                                        </div>
                                    </div>

                                    <div class="info__submit d-flex justify-content-center align-items-center my-4">
                                        <div class="wrapper">
                                            <button type="submit" class="info__submit--btn changepass px-4 py-2">Thay
                                                đổi</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- end body -->
        </div>

        <!-- start footer -->
        <footer th:replace="~{/shop/fragments::footer}"></footer>
        <!-- end footer -->

        <!-- Modal -->
        <div class="modal fade" id="resultModal" tabindex="-1" role="dialog" aria-labelledby="resultModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="resultModalLabel">Thông báo</h5>
                    </div>
                    <div class="modal-body">
                        <!-- Thông báo thành công hoặc thất bại sẽ được hiển thị ở đây -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="closeModalBtn"
                            data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>

    <!-- Fontawsome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>

    <!-- Jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script th:src="@{/js/ChangePassword.js}"></script>
</body>

</html>